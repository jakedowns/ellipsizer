<html>
<head>
    <title>ellipsizer demo</title>
    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="dist/ellipsizer.bundle.js"></script>
    <script>
        // wait for DOM ready
        $(document).ready(function(){
            var maxLines = 6;

            function update(){
                $('.example-js-overflow').ellipsize({
                    maxLines: maxLines
                });
            }

            $(document).on('change update focus blur', 'input.control-max-lines', (e)=>{
                maxLines = parseInt($(e.currentTarget).val());
                update();
            });

            var update_debounced = _.debounce(update, 150);
            // add a resize binding
            $(window).resize(update_debounced);

            // init
            update();
        });
    </script>
    <style>
        html, body {
            background-color: #eee;
            color: #333;
            font-family: 'Arial', sans-serif;
        }
        body {
            padding: 20px;
            padding-bottom: 100px;
        }
        p {
            line-height: 25px;
            font-size: 16px;
        }
        hr {
            clear: both;
            width: 100%;
            display: block;
            position: relative;
            float: none;
            margin: 10px 0;
            padding: 0;
            outline: none;
            border: none;
            border-bottom: 1px solid black;
        }
        div.control {
            color: #fff;
            background: #999;
            padding: 10px;
            display: inline-block;

        }
        .example-js-overflow,
        .example-css-only-fail {
            position: relative;
        }
        .example-css-only-fail {
            width: 100%;
            height: 200px;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }
        .example-css-only-pass {
            width: 100%;
            height: 200px;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }
        .elli-char {
            font-weight: bold;
            color: red;
        }
        .elli-toggle-more,
        .elli-toggle-less {
            font-weight: bold;
            color: blue;
        }
    </style>
</head>
<body>
<div id="content">
    <h1>Responsive Demo of Dynamic Overflow: Ellipsis</h1>
    <p>See Github Repo for more: <a href="https://github.com/jakedowns/ellipsizer">https://github.com/jakedowns/ellipsizer</a></p>

    <h2>Here's our JS-augmented example:</h2>
    <pre>(div > multiple p tags)</pre>

    <p>
        1. try changing the max number of lines<br>
        2. try resizing your browser to see how the plugin updates it's calculations<br>
    </p>
    <div class="control">
        Max Lines: <input class="control-max-lines" type="number" min="0" max="99" value="6">
    </div>

    <div class="example-js-overflow">
        <p>Nulla porttitor accumsan tincidunt. Curabitur aliquet quam id dui posuere
            blandit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices
            posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel,
            ullamcorper sit amet ligula. Sed porttitor lectus nibh. Mauris blandit
            aliquet elit, eget tincidunt nibh pulvinar a. Sed porttitor lectus nibh.
            Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Vivamus
            suscipit tortor eget felis porttitor volutpat. Curabitur arcu erat, accumsan
            id imperdiet et, porttitor at sem. Curabitur arcu erat, accumsan id
            imperdiet et, porttitor at sem.</p>

        <p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Proin
            eget tortor risus. Quisque velit nisi, pretium ut lacinia in, elementum id
            enim. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus.
            Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Vivamus
            suscipit tortor eget felis porttitor volutpat. Pellentesque in ipsum id orci
            porta dapibus. Nulla porttitor accumsan tincidunt. Vestibulum ac diam sit
            amet quam vehicula elementum sed sit amet dui. Cras ultricies ligula sed
            magna dictum porta.</p>

        <p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Mauris
            blandit aliquet elit, eget tincidunt nibh pulvinar a. Vivamus suscipit
            tortor eget felis porttitor volutpat. Vestibulum ac diam sit amet quam
            vehicula elementum sed sit amet dui. Curabitur arcu erat, accumsan id
            imperdiet et, porttitor at sem. Vivamus magna justo, lacinia eget
            consectetur sed, convallis at tellus. Quisque velit nisi, pretium ut lacinia
            in, elementum id enim. Nulla porttitor accumsan tincidunt. Nulla quis lorem
            ut libero malesuada feugiat. Praesent sapien massa, convallis a pellentesque
            nec, egestas non nisi.</p>

        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras ultricies
            ligula sed magna dictum porta. Donec sollicitudin molestie malesuada.
            Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui.
            Quisque velit nisi, pretium ut lacinia in, elementum id enim. Mauris blandit
            aliquet elit, eget tincidunt nibh pulvinar a. Sed porttitor lectus nibh.
            Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Praesent sapien
            massa, convallis a pellentesque nec, egestas non nisi. Vestibulum ante ipsum
            primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec
            velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula.</p>

        <p>Vivamus suscipit tortor eget felis porttitor volutpat. Proin eget tortor
            risus. Sed porttitor lectus nibh. Vivamus magna justo, lacinia eget
            consectetur sed, convallis at tellus. Curabitur non nulla sit amet nisl
            tempus convallis quis ac lectus. Curabitur non nulla sit amet nisl tempus
            convallis quis ac lectus. Quisque velit nisi, pretium ut lacinia in,
            elementum id enim. Vivamus magna justo, lacinia eget consectetur sed,
            convallis at tellus. Cras ultricies ligula sed magna dictum porta. Cras
            ultricies ligula sed magna dictum porta.</p>
    </div>

    <hr>

    <h2>Here's a CSS example that fails:</h2>
    <pre>(div > multiple p tags)</pre>

    <div class="example-css-only-fail">
        <p>Nulla porttitor accumsan tincidunt. Curabitur aliquet quam id dui posuere
            blandit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices
            posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel,
            ullamcorper sit amet ligula. Sed porttitor lectus nibh. Mauris blandit
            aliquet elit, eget tincidunt nibh pulvinar a. Sed porttitor lectus nibh.
            Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Vivamus
            suscipit tortor eget felis porttitor volutpat. Curabitur arcu erat, accumsan
            id imperdiet et, porttitor at sem. Curabitur arcu erat, accumsan id
            imperdiet et, porttitor at sem.</p>

        <p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Proin
            eget tortor risus. Quisque velit nisi, pretium ut lacinia in, elementum id
            enim. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus.
            Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Vivamus
            suscipit tortor eget felis porttitor volutpat. Pellentesque in ipsum id orci
            porta dapibus. Nulla porttitor accumsan tincidunt. Vestibulum ac diam sit
            amet quam vehicula elementum sed sit amet dui. Cras ultricies ligula sed
            magna dictum porta.</p>

        <p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Mauris
            blandit aliquet elit, eget tincidunt nibh pulvinar a. Vivamus suscipit
            tortor eget felis porttitor volutpat. Vestibulum ac diam sit amet quam
            vehicula elementum sed sit amet dui. Curabitur arcu erat, accumsan id
            imperdiet et, porttitor at sem. Vivamus magna justo, lacinia eget
            consectetur sed, convallis at tellus. Quisque velit nisi, pretium ut lacinia
            in, elementum id enim. Nulla porttitor accumsan tincidunt. Nulla quis lorem
            ut libero malesuada feugiat. Praesent sapien massa, convallis a pellentesque
            nec, egestas non nisi.</p>

        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras ultricies
            ligula sed magna dictum porta. Donec sollicitudin molestie malesuada.
            Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui.
            Quisque velit nisi, pretium ut lacinia in, elementum id enim. Mauris blandit
            aliquet elit, eget tincidunt nibh pulvinar a. Sed porttitor lectus nibh.
            Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Praesent sapien
            massa, convallis a pellentesque nec, egestas non nisi. Vestibulum ante ipsum
            primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec
            velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula.</p>

        <p>Vivamus suscipit tortor eget felis porttitor volutpat. Proin eget tortor
            risus. Sed porttitor lectus nibh. Vivamus magna justo, lacinia eget
            consectetur sed, convallis at tellus. Curabitur non nulla sit amet nisl
            tempus convallis quis ac lectus. Curabitur non nulla sit amet nisl tempus
            convallis quis ac lectus. Quisque velit nisi, pretium ut lacinia in,
            elementum id enim. Vivamus magna justo, lacinia eget consectetur sed,
            convallis at tellus. Cras ultricies ligula sed magna dictum porta. Cras
            ultricies ligula sed magna dictum porta.</p>
    </div>

    <hr>

    <h2>Here's a CSS-only example that works (but is janky)</h2>
    <pre>(single p tag w/ br tags)</pre>
        <p class="example-css-only-pass">
            Nulla porttitor accumsan tincidunt. Curabitur aliquet quam id dui posuere
            blandit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices
            posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel,
            ullamcorper sit amet ligula. Sed porttitor lectus nibh. Mauris blandit
            aliquet elit, eget tincidunt nibh pulvinar a. Sed porttitor lectus nibh.
            Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Vivamus
            suscipit tortor eget felis porttitor volutpat. Curabitur arcu erat, accumsan
            id imperdiet et, porttitor at sem. Curabitur arcu erat, accumsan id
            imperdiet et, porttitor at sem.

            <br><br>

            Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Proin
            eget tortor risus. Quisque velit nisi, pretium ut lacinia in, elementum id
            enim. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus.
            Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Vivamus
            suscipit tortor eget felis porttitor volutpat. Pellentesque in ipsum id orci
            porta dapibus. Nulla porttitor accumsan tincidunt. Vestibulum ac diam sit
            amet quam vehicula elementum sed sit amet dui. Cras ultricies ligula sed
            magna dictum porta.

            <br><br>

            Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Mauris
            blandit aliquet elit, eget tincidunt nibh pulvinar a. Vivamus suscipit
            tortor eget felis porttitor volutpat. Vestibulum ac diam sit amet quam
            vehicula elementum sed sit amet dui. Curabitur arcu erat, accumsan id
            imperdiet et, porttitor at sem. Vivamus magna justo, lacinia eget
            consectetur sed, convallis at tellus. Quisque velit nisi, pretium ut lacinia
            in, elementum id enim. Nulla porttitor accumsan tincidunt. Nulla quis lorem
            ut libero malesuada feugiat. Praesent sapien massa, convallis a pellentesque
            nec, egestas non nisi.

            <br><br>

            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras ultricies
            ligula sed magna dictum porta. Donec sollicitudin molestie malesuada.
            Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui.
            Quisque velit nisi, pretium ut lacinia in, elementum id enim. Mauris blandit
            aliquet elit, eget tincidunt nibh pulvinar a. Sed porttitor lectus nibh.
            Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Praesent sapien
            massa, convallis a pellentesque nec, egestas non nisi. Vestibulum ante ipsum
            primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec
            velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula.

            <br><br>

            Vivamus suscipit tortor eget felis porttitor volutpat. Proin eget tortor
            risus. Sed porttitor lectus nibh. Vivamus magna justo, lacinia eget
            consectetur sed, convallis at tellus. Curabitur non nulla sit amet nisl
            tempus convallis quis ac lectus. Curabitur non nulla sit amet nisl tempus
            convallis quis ac lectus. Quisque velit nisi, pretium ut lacinia in,
            elementum id enim. Vivamus magna justo, lacinia eget consectetur sed,
            convallis at tellus. Cras ultricies ligula sed magna dictum porta. Cras
            ultricies ligula sed magna dictum porta.
        </p>
</div>
</body>
</html>